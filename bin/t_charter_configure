#!/usr/bin/env ruby

require "bundler/setup"
require "t_charter"

# You can add fixtures and/or initialization code here to make experimenting
# with your gem easier. You can also use a different console, if you like.

# (If you use this, don't forget to add pry to your Gemfile!)
# require "pry"
# Pry.start

# require "irb"
# IRB.start
# TCharter::Start.chat
puts <<-EOS
  Thanks for installing TCharter.
  A small Ruby application that allows you to chat with a your friends on a particular network

  This is the last process which basically sets up your application for you.
  Let us begin
EOS

config = Hash.new(nil)

print "What is your name? : "
config[:user] = gets.chomp.strip!

puts ""

print "Would you like to just send message? : "
config[:send] = gets.chomp.strip!

puts ""

print "Would you like to receive messages? : "
config[:receive] = gets.chomp.strip!

print "Enter your URL for the Server? : "
config[:host] = gets.chomp.strip!

config.select!{ |x, y|
  !y.blank?
}

file_root = ENV["HOME"]
file_name = TCharter::ConfigSetup::CONFIG_FILE
file_location = "#{file_root}/#{file_name}"

# File.open(file_location, 'w') do |f|
#   ::YAML.dump config, f
# end

puts <<-EOS
  Congratulations you have completed the basic setup. The file can be found at: #{file_location}
EOS
